<ion-header padding>
  <ion-navbar>
    <ion-title>{{index !== null ? "Modifier un engagement" : "Créér un nouvel engagement"}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="form" (ngSubmit)="save()">
    <ion-item>
      <ion-label>Nom</ion-label>
      <ion-input type="text" formControlName="name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Description courte</ion-label>
      <ion-textarea type="text" formControlName="short_description"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Description</ion-label>
      <ion-textarea type="text" formControlName="description"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Logo</ion-label>
      <ion-textarea type="text" formControlName="logo" (click)="fileChooserLogo()"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Image</ion-label>
      <ion-textarea type="text" formControlName="image" (click)="fileChooserImage()"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Demander combien de personnes composent le foyer</ion-label>
      <ion-toggle [checked]="true" formControlName="ask_for_persons"></ion-toggle>
    </ion-item>
    <ion-item>
      <ion-label>Demander le nombre de fois par semaines</ion-label>
      <ion-toggle [checked]="true" formControlName="ask_for_periodicity"></ion-toggle>
    </ion-item>
    <ion-item>
      <ion-label>Nombre de m² sauvés par unité</ion-label>
      <ion-textarea type="text" formControlName="m2_saved_by_unit"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Nombre d'euros économisés par unité</ion-label>
      <ion-textarea type="text" formControlName="euros_saved_by_unit"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Ordre d'affichage</ion-label>
      <ion-textarea type="numeric" formControlName="order"></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label>Actif</ion-label>
      <ion-toggle formControlName="active"></ion-toggle>
    </ion-item>
    <div class="button-container">
      <button [hidden]="index === null" ion-button color="danger" (click)="showRemoveConfirm($event)">Supprimer</button>
      <button ion-button type="submit" value="Valider" [disabled]="!form.valid">{{index !== null ?  "Modifier l'engagement" : "Créer l'engagement"}}</button>
    </div>
  </form>
</ion-content>
